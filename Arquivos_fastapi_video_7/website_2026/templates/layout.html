<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    {% if title %}
      <title>Website - {{ title }}</title>
    {% else %}
      <title>Website</title>
    {% endif %}

    <meta name="description" content="Tutorial Website">
    <meta name="author" content="Sangiorgiovba">

    <meta property="og:title" content="Website FastAPI">
    <meta property="og:type" content="Website">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <link href="https://fonts.googleapis.com/css2?family=Montserrat&family=Nunito&display=swap"
          rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
          rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="{{ url_for('static', path='css/main.css') }}">     

    <meta name="theme-color" content="#527c9f">

    <link rel="icon" href="{{ url_for('static', path='icons/favicon.ico') }}" sizes="any">
<link rel="icon" href="{{ url_for('static', path='icons/icon.svg') }}" type="image/svg+xml">

  <body class="d-flex flex-column min-vh-100">
    <header class="site-header">
      <nav class="navbar navbar-expand-md bg-steel fixed-top" data-bs-theme="dark">
        <div class="container">
          <a class="navbar-brand me-4" href="{{ url_for('home')}}">Website Logo</a>

          <button class="navbar-toggler"
                  type="button"
                  data-bs-toggle="collapse"
                  data-bs-target="#navbarToggle"
                  aria-label="Alternar navega√ß√£o">
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarToggle">
            <div class="navbar-nav me-auto">
              <a class="nav-link active" href="{{ url_for('home')}}">Principal</a>
            </div>

            <div class="navbar-nav">
              <a class="btn btn-outline-light me-2" href="#">Entrar</a>
              <a class="btn btn-light me-3" href="#">Registrar</a>

              <div class="nav-item dropdown">
                <a class="nav-link dropdown-toggle"
                   href="#"
                   id="bd-theme"
                   role="button"
                   data-bs-toggle="dropdown">
                  <span id="bd-theme-text">üåì Autom√°tico</span>
                </a>

                <ul class="dropdown-menu dropdown-menu-end">
                  <li>
                    <button class="dropdown-item" data-bs-theme-value="light">
                      ‚òÄÔ∏è Claro
                    </button>
                  </li>
                  <li>
                    <button class="dropdown-item" data-bs-theme-value="dark">
                      üåô Escuro
                    </button>
                  </li>
                  <li>
                    <button class="dropdown-item" data-bs-theme-value="auto">
                      üåì Autom√°tico
                    </button>
                  </li>
                </ul>
              </div>
            </div>

          </div>
        </div>
      </nav>
    </header>

    <main role="main" class="container mt-5 pt-4">
      <div class="row">
        <div class="col-md-8">
          {% block content %}{% endblock content %}
        </div>

        <aside class="col-md-4">
          <div class="content-section py-3 px-4 mb-4">
            <h3>Nossa Barra Lateral</h3>
            <p class="text-body-secondary">
              Voc√™ pode colocar qualquer informa√ß√£o aqui.
            </p>
            <ul class="list-group">
              <li class="list-group-item">√öltimas Postagens</li>
              <li class="list-group-item">An√∫ncios</li>
              <li class="list-group-item">Calend√°rios</li>
              <li class="list-group-item">Outros</li>
            </ul>
          </div>
        </aside>
      </div>
    </main>

    <footer class="mt-auto py-3 bg-body-tertiary border-top">
      <div class="container text-center">
        <p class="text-body-secondary mb-0">
          ¬© <span id="year"></span> Sangiorgiovba | Todos os direitos reservados
        </p>
      </div>
    </footer>

    <script>
      document.getElementById('year').textContent = new Date().getFullYear();
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      const setTheme = (theme) => {
        if (theme === 'auto') {
          document.documentElement.setAttribute(
            'data-bs-theme',
            window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'
          );
        } else {
          document.documentElement.setAttribute('data-bs-theme', theme);
        }

        localStorage.setItem('theme', theme);

        const themeText = {
          light: '‚òÄÔ∏è Claro',
          dark: 'üåô Escuro',
          auto: 'üåì Autom√°tico'
        };

        document.getElementById('bd-theme-text').textContent = themeText[theme];
      };

      document.querySelectorAll('[data-bs-theme-value]').forEach(btn => {
        btn.addEventListener('click', () =>
          setTheme(btn.getAttribute('data-bs-theme-value'))
        );
      });

      setTheme(localStorage.getItem('theme') || 'auto');
    </script>
  </body>
</html>
